<configs>

	<remove xpath="/buffs/buff[@name='buffBurst']" />
	
	<insertBefore xpath="/buffs/buff[@name='buffBurstDelay']">	
		<buff name="buffBurst" hidden="true" >
			<stack_type value="ignore"/><duration value="0"/><update_rate value=".1"/> 
				<effect_group>
					<requirement name="CVarCompare" cvar="$burstrate" operation="GTE" value="1"/> <!-- Still bursting -->
					<triggered_effect trigger="onSelfRangedBurstShotStart" action="ModifyCVar" cvar="$burstrate" operation="add" value="-1"/> <!-- use burstshot to decrement so bursts of >1 will be counted  -->
				</effect_group> 
				<effect_group>
					<requirement name="CVarCompare" cvar="$burstrate" operation="LTE" value="0"/> <!-- done bursting? -->
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffBurstDelay" /> 
					<triggered_effect trigger="onSelfBuffUpdate" action="RemoveBuff" buff="buffBurst"/> 
				</effect_group>	
		</buff>		
	</insertBefore>
	
	<remove xpath="/buffs/buff[@name='buffReload']" />
	
	<insertBefore xpath="/buffs/buff[@name='buffReloadDelay']">
		<buff name="buffReload" hidden="true" >
			<stack_type value="ignore"/><duration value="0"/><update_rate value=".1"/> 
				<effect_group>
					<requirement name="CVarCompare" cvar="$roundsinmag" operation="GT" value="0"/> <!-- Still got bullets? -->
					<triggered_effect trigger="onSelfRangedBurstShotStart" action="ModifyCVar" cvar="$roundsinmag" operation="add" value="-1"/> <!-- use burstshot to decrement rounds so bursts of >1 will be counted  -->
					<!--<triggered_effect trigger="onSelfRangedBurstShotStart" action="CVarLogValue" cvar="$roundsinmag"/>--> 
				</effect_group> 
				<effect_group>
					<requirement name="CVarCompare" cvar="$roundsinmag" operation="LTE" value="0"/> <!-- Magazine empty? -->
				<!--<triggered_effect trigger="onSelfBuffUpdate" action="LogMessage" message="   Reloading Anim Start"/>-->
					<triggered_effect trigger="onSelfBuffUpdate" action="AddBuff" buff="buffReloadDelay" /> 
				</effect_group>	
		</buff>
	</insertBefore>
	
</configs>